package org.egov.malware.config;

import lombok.Getter;
import lombok.Setter;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Configuration;

@Configuration
@Getter
@Setter
public class MalwareDetectionConfig {

    // Server Configuration
    @Value("${server.port}")
    private int serverPort;

    @Value("${server.contextPath}")
    private String contextPath;

    // ClamAV Configuration
    @Value("${clamav.host}")
    private String clamavHost;

    @Value("${clamav.port}")
    private int clamavPort;

    @Value("${clamav.timeout}")
    private int clamavTimeout;

    @Value("${clamav.chunk.size}")
    private int clamavChunkSize;

    // S3/MinIO Configuration (aligned with egov-filestore)
    @Value("${isS3Enabled:true}")
    private boolean s3Enabled;

    @Value("${minio.url}")
    private String minioUrl;

    @Value("${aws.key}")
    private String minioAccessKey;

    @Value("${aws.secretkey}")
    private String minioSecretKey;

    @Value("${fixed.bucketname}")
    private String minioBucketName;

    @Value("${fixed.bucket.region:ap-south-1}")
    private String minioBucketRegion;

    @Value("${quarantine.bucketname}")
    private String quarantineBucketName;

    @Value("${minio.source:minio}")
    private String minioSource;

    // Filestore Configuration
    @Value("${egov.filestore.host}")
    private String filestoreHost;

    @Value("${egov.filestore.path}")
    private String filestorePath;

    // Kafka Topics - Malware Detection
    @Value("${kafka.topics.malware.scan.request}")
    private String malwareScanRequestTopic;

    @Value("${kafka.topics.malware.scan.result}")
    private String scanResultTopic;

    @Value("${kafka.topics.malware.scan.save}")
    private String scanSaveTopic;

    // Slack Configuration
    @Value("${slack.webhook.enabled}")
    private boolean slackEnabled;

    @Value("${slack.webhook.url}")
    private String slackWebhookUrl;

    @Value("${slack.channel}")
    private String slackChannel;

    @Value("${slack.username}")
    private String slackUsername;

    @Value("${slack.icon.emoji}")
    private String slackIconEmoji;

    // Email Configuration
    @Value("${mail.enabled}")
    private boolean mailEnabled;

    @Value("${mail.alert.recipients}")
    private String mailAlertRecipients;

    @Value("${mail.alert.subject}")
    private String mailAlertSubject;

    // Email Mode: "direct" (JavaMailSender) or "kafka" (egov-notification-mail)
    @Value("${mail.notification.mode:direct}")
    private String mailNotificationMode;

    // Kafka topic for egov-notification-mail
    @Value("${kafka.topics.notification.email:egov.core.notification.email}")
    private String emailNotificationTopic;

    // File Size Limits
    @Value("${scan.max.file.size.mb}")
    private long maxFileSizeMb;

    // Quarantine Settings
    @Value("${quarantine.enabled}")
    private boolean quarantineEnabled;

    @Value("${quarantine.delete.original}")
    private boolean deleteOriginalOnQuarantine;

    // State Tenant Configuration
    @Value("${egov.state.tenant.id:pb}")
    private String stateTenantId;
}
